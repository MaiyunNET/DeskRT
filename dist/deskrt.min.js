/*
 * DeskRT 0.0.4
 * Author: HanGuoShuai
 * Github: https://github.com/MaiyunNET/DeskRT
 */
"use strict";var DeskRT;!function(e){var t=function(){function e(){}return e.init=function(t){var n=this;this._pre=t.pre||"",this._end=t.end||"",this._frame=t.frame||"",this._main=t.main||"",this._logo=t.logo||void 0,this._theme=t.theme||"default",this.let=t.let||{},document.addEventListener("DOMContentLoaded",function(){var t=document.getElementsByTagName("body")[0];t.innerHTML='<div id="el-pop"><div id="el-mask"><div class="el-spin el-spin-spinning"><span class="el-spin-dot"><i></i><i></i><i></i><i></i></span></div></div></div>',n.__popDiv=document.getElementById("el-pop");var a=function(){var e=window.location.hash;""!==e&&(e=e.substr(1)),""!==e&&n.open(e)};window.addEventListener("hashchange",a),n.libs(["https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js","https://cdn.jsdelivr.net/npm/vuex@3/dist/vuex.min.js","https://cdn.jsdelivr.net/npm/element-ui@2/lib/index.js","https://cdn.jsdelivr.net/npm/element-ui@2/lib/theme-chalk/index.css","https://cdn.jsdelivr.net/npm/systemjs@0/dist/system.js"],function(){SystemJS.config({packages:{"http:":{defaultExtension:"js?"+n._end},"https:":{defaultExtension:"js?"+n._end}}}),n.__vuex=new Vuex.Store({state:{path:"",theme:n._theme},mutations:{set:function(e,t){e[t[0]]=t[1]}}}),i.init(),l.show();var s=!0;fetch(n._pre+n._frame+".html?"+n._end).then(function(e){return 404===e.status&&(alert('Error: "'+n._pre+n._frame+'.html" not found.'),s=!1),e.text()}).then(function(i){if(s){var o=function(s){l.hide(),i=n.purifyText(i);var o=i.match(/<el-menu(.+?)<\/el-menu><el-header>(.+?)<\/el-header>/);if(o.length>0){t.insertAdjacentHTML("afterbegin",'<div id="el-frame" :class="[elTheme!=\'default\' && \'el-theme-\' + elTheme]"><el-container><el-aside width="200px"><el-logo'+(n._logo?' style="background-image: url('+n._logo+');"':"")+'></el-logo><el-menu @select="elSelect" :default-active="DeskRT.Core.__vuex.state.path"'+o[1]+"</el-menu></el-aside><el-container><el-header>"+o[2]+'</el-header><el-main id="el-main"></el-main></el-container></el-container></div>');var d=function(e){window.location.hash="#"+e};if(void 0!==s){var c=s.methods||{};c.elSelect=d;var r=s.computed||{};r.elTheme=function(){return e.__vuex.state.theme},e.__frameVm=new Vue({el:"#el-frame",data:s.data,methods:c,computed:r})}else e.__frameVm=new Vue({el:"#el-frame",methods:{elSelect:d},computed:{elTheme:function(){return e.__vuex.state.theme}}});""===window.location.hash?window.location.hash="#"+n._main:a()}else alert("Error: <el-menu> and <el-header> not found.")};SystemJS.import(n._pre+n._frame).then(function(e){o(e)}).catch(function(){o()})}})})})},e.open=function(t){var n=this,i=t.indexOf("?"),a={};if(-1!==i){var s=t.slice(i+1).split("&");t=t.slice(0,i);for(var o=0;o<s.length;++o){var d=s[o].split("=");a[d[0]]=decodeURIComponent(d[1])}}this.__vuex.commit("set",["path",t]);var c=document.getElementById("el-main");if(this.__pages[t])this.__pages[t].elQuery=a,this.__pages[t].elOpen&&this.__pages[t].elOpen();else{l.show();var r=!0;fetch(this._pre+t+".html?"+this._end).then(function(e){return 404===e.status&&(r=!1),e.text()}).then(function(i){if(r){i=i.slice(9,-10);var s=document.createElement("div");if(s.setAttribute(":class","['el-page', {'el--show': elPageShow}]"),-1!==i.indexOf("<pre>")){i=i.replace(/([\s\S]+?)<pre>([\s\S]+?)<\/pre>([\s\S]*?)/g,function(e,t,l,i){return n.purifyText(t)+"<pre>"+l+"</pre>"});var o=i.lastIndexOf("</pre>");i=i.slice(0,o)+n.purifyText(i.slice(o)),s.innerHTML=i}else s.innerHTML=n.purifyText(i);var d=function(i){l.hide(),c.appendChild(s);var o;o=void 0!==i?{el:s,data:i.data,methods:i.methods,computed:i.computed}:{el:s},o.computed||(o.computed={}),o.data||(o.data={}),o.data.elPagePath=t,o.data.elQuery=a,o.computed.elPageShow=function(){return this.elPagePath===e.__vuex.state.path},o.computed.elMobile=function(){return this.elMobile===e.__vuex.state.mobile};var d=new Vue(o);n.__pages[t]=d;var r=!0;void 0!==d.elReady&&(r=d.elReady()),d.elOpen&&!1!==r&&d.elOpen()};SystemJS.import(n._pre+t).then(function(e){d(e)}).catch(function(){d()})}})}},e.go=function(e){window.location.hash="#"+e},e.openUrl=function(e){var t=document.getElementById("el-core-openurl");t||(t=document.createElement("a"),t.setAttribute("id","el-core-openurl"),t.setAttribute("target","_blank"),this.__popDiv.appendChild(t)),t.setAttribute("href",e),t.click()},e.libs=function(e,t){for(var n=[],i=0,a=e;i<a.length;i++){var s=a[i];-1===this._LIBS.indexOf(s)&&n.push(s)}n.length>0?(l.show(),this._libsLoad(0,n,t,document.getElementsByTagName("head")[0])):t()},e._libsLoad=function(e,t,n,i){var a=this;if(this._LIBS.push(t[e]),"css"===t[e].slice(-3)){var s=document.createElement("link");s.rel="stylesheet",s.addEventListener("load",function(){++e,t.length===e?(l.hide(),n()):a._libsLoad(e,t,n,i)}),s.href=t[e]+"?"+this._end,i.insertBefore(s,this.__scriptElement)}else{var o=document.createElement("script");o.addEventListener("load",function(){++e,t.length===e?(l.hide(),n()):a._libsLoad(e,t,n,i)}),o.src=t[e]+"?"+this._end,i.insertBefore(o,this.__scriptElement)}},e.setTheme=function(e){this.__vuex.commit("set",["theme",e])},e.arrayUnique=function(e){for(var t=[],n={},l=0,i=e;l<i.length;l++){var a=i[l];n[a]||(t.push(a),n[a]=1)}return t},e.purifyText=function(e){return e.replace(/\t|\r\n|\n|\r|    /g,"")},e.html2escape=function(e){return e.replace(/[<>&"]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})},e.version="0.0.4",e.__pages={},e._LIBS=[],e}();e.Core=t;var n=function(){function e(){}return e.get=function(e,t){fetch(e,{method:"GET",credentials:"include"}).then(function(e){return e.json()}).then(function(e){t(e)})},e.post=function(e,t,n){var l=new Headers,i=new FormData;for(var a in t)void 0!==t[a]&&i.append(a,t[a]);fetch(e,{method:"POST",headers:l,credentials:"include",body:i}).then(function(e){return e.json()}).then(function(e){n(e)})},e}();e.Http=n;var l=function(){function e(){}return e.show=function(){var e=document.getElementById("el-frame");null!==e&&e.classList.add("el--mask"),document.getElementById("el-mask").classList.add("el--show")},e.hide=function(){var e=document.getElementById("el-frame");null!==e&&e.classList.remove("el--mask"),document.getElementById("el-mask").classList.remove("el--show")},e}();e.Mask=l;var i=function(){function e(){}return e.init=function(){Vue.component("el-header-item",{template:'<div class="el-header-item" @click="$emit(\'click\')"><slot></div>'}),Vue.component("el-logo",{template:'<div class="el-logo"></div>'}),Vue.component("el-table-info",{template:'<table class="el-table-info"><tbody><slot></tbody></table>'}),Vue.component("el-tr",{template:"<tr><slot></tr>"}),Vue.component("el-th",{template:"<th><slot></th>"}),Vue.component("el-td",{template:"<td><slot></td>"}),Vue.component("el-center",{template:'<div class="el-center"><slot></div>'}),Vue.component("el-tip",{template:'<div class="el-tip"><slot></div>'}),Vue.component("el-exp",{template:'<div class="el-exp"><slot></div>'}),Vue.component("el-pictureswall",{props:{value:{default:[]},pre:{default:""},end:{default:""},endPreview:{default:""}},data:function(){return{dialogVisible:!1,dialogImageUrl:""}},methods:{preview:function(e){this.dialogImageUrl=this.pre+e+this.endPreview,this.dialogVisible=!0},click:function(){this.$emit("select")}},template:'<div class="el-pictureswall"><div><ul class="el-upload-list el-upload-list--picture-card"><li v-for="(url, index) of value" tabindex="0" class="el-upload-list__item is-success"><img :src="pre + url + end" alt="" class="el-upload-list__item-thumbnail"><a class="el-upload-list__item-name"><i class="el-icon-document"></i></a><i class="el-icon-close"></i><span class="el-upload-list__item-actions"><span class="el-upload-list__item-preview" @click="preview(url)"><i class="el-icon-zoom-in"></i></span><span class="el-upload-list__item-delete" @click="value.splice(index, 1);$emit(\'input\', value);"><i class="el-icon-delete"></i></span></span></li></ul><div tabindex="0" class="el-upload el-upload--picture-card" @click="click"><i class="el-icon-plus"></i><input name="file" class="el-upload__input" type="file"></div></div><el-dialog :visible.sync="dialogVisible" size="tiny"><img width="100%" :src="dialogImageUrl" alt=""></el-dialog></div>'}),Vue.component("el-phone",{props:{padding:{default:"0"}},template:'<div class="el-phone"><div class="el-phone--inner" :style="{padding: padding}"><slot></div></div>'}),Vue.component("el-phone-line",{template:'<div class="el-phone-line"><template><slot></template><el-button-group><el-button @click="$emit(\'addline\')" type="primary" icon="el-icon-tickets" size="small">加行</el-button><el-button @click="$emit(\'removeline\')" type="primary" icon="el-icon-delete" size="small">删行</el-button><el-button @click="$emit(\'addctr\')" type="primary" icon="el-icon-circle-plus-outline" size="small">加控件</el-button></el-button-group></div>'}),Vue.component("el-data-button-group",{props:{delimiter:{default:void 0}},template:'<div class="el-data-button-group" :class="[delimiter !== undefined && \'el--delimiter\']"><slot></div>'}),Vue.component("el-data-button",{template:'<div class="el-data-button"><slot></div>'}),Vue.component("el-tile-button",{props:{href:{default:void 0},background:{default:void 0}},template:'<a class="el-tile-button" :class="[background && \'el--background\', $slots.icon && \'el--icon\']" :href="href" :style="{\'background\': background}"><div v-if="$slots.icon" class="el-tile-button__icon"><slot name="icon"></div><div class="el-tile-button__body"><slot></div></a>'})},e}();e.Controls=i}(DeskRT||(DeskRT={})),function(){var e=document.querySelectorAll("head > script");DeskRT.Core.__scriptElement=e[e.length-1]}();