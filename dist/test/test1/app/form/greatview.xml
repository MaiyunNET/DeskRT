<form width="400" min-width="300" height="450" min-height="400" title="GreatView & Select Test" padding="10">
    <layout flex="1" gutter="10" direction="v">
        <tab flex="1" :tab-position="tabPosition">
            <tab-panel label="same" style="padding: 10px;">
                <layout flex="1" gutter="10" direction="v">
                    <layout flex="1" gutter="10">
                        <greatview same="true" :data="lineCount" :scroll-offset.sync="so" style="border: 1px solid rgba(0, 0, 0, .1);" flex="1" @resize="c = arguments[0]" @change="l = arguments[0]" :style="{'line-height': style ? '1.5' : undefined}" :padding="style ? '10' : undefined" v-slot="data">
                            <block style="white-space: nowrap;">Line {{data.row}}, index: {{data.index}}.</block>
                        </greatview>
                        <layout flex="1" style="border: 1px solid rgba(0, 0, 0, .1);">
                            <greatview same="true" :data="lineCount" :scroll-offset.sync="so3" flex="1" @resize="c3 = arguments[0]" @change="l3 = arguments[0]" :style="{'line-height': style ? '1.5' : undefined}" :padding="style ? '10' : undefined" v-slot="data">
                                <block style="white-space: nowrap;">Line {{data.row}}, index: {{data.index}}.</block>
                            </greatview>
                            <scroll width="20" :length="l3" :client="c3" :scroll-offset.sync="so3"></scroll>
                        </layout>
                    </layout>
                    <label>Scroll offset: {{so}}, Length: {{l}}, Client: {{c}}.</label>
                    <greatview same="true" :data="lineCount" :scroll-offset.sync="so2" style="border: 1px solid rgba(0, 0, 0, .1);" flex="1" direction="h" @resize="c2 = arguments[0]" @change="l2 = arguments[0]" :style="{'line-height': style ? '1.5' : undefined}" :padding="style ? '10' : undefined" v-slot="data" style="">
                        <layout align-v="center" align-h="center" direction="v" style="border-right: 1px solid rgba(0, 0, 0, .1); width: 80px;">
                            <label>Col {{data.row}}.</label>
                            <label>index: {{data.index}}.</label>
                        </layout>
                    </greatview>
                    <label>Scroll offset: {{so2}}, Length: {{l2}}, Client: {{c2}}.</label>
                    <layout gutter="10">
                        <button @tap="lineCount += 100" padding="0 10" flex="1">Add 100 lines</button>
                        <button @tap="lineCount += 1000" padding="0 10" flex="1">Add 1000 lines</button>
                    </layout>
                    <layout gutter="10">
                        <button @tap="lineCount -= 100;if(lineCount < 0) {lineCount = 0;}" padding="0 10" flex="1">Remove 100 lines</button>
                        <button @tap="lineCount -= 1000;if(lineCount < 0) {lineCount = 0;}" padding="0 10" flex="1">Remove 1000 lines</button>
                    </layout>
                </layout>
            </tab-panel>
            <tab-panel label="different" style="padding: 10px;">
                <layout flex="1" gutter="10" direction="v">
                    <layout flex="1" gutter="10">
                        <greatview :data="lineCount_2" :scroll-offset.sync="so_2" style="border: 1px solid rgba(0, 0, 0, .1);" flex="1" @resize="c_2 = arguments[0]" @change="l_2 = arguments[0]" :style="{'line-height': style ? '1.5' : undefined}" :padding="style ? '10' : undefined" v-slot="data">
                            <button v-if="data.index > 0 && data.index % 10 === 0">test</button>
                            <block v-else>Line {{data.row}}, index: {{data.index}}.</block>
                        </greatview>
                        <layout flex="1" style="border: 1px solid rgba(0, 0, 0, .1);">
                            <greatview :data="lineCount_2" :scroll-offset.sync="so3_2" flex="1" @resize="c3_2 = arguments[0]" @change="l3_2 = arguments[0]" :style="{'line-height': style ? '1.5' : undefined}" :padding="style ? '10' : undefined" v-slot="data">
                                <block v-if="data.index > 0 && data.index % 10 === 0" style="margin: auto; background: red; width: 60%; height: 30px; color: #FFF; text-align: center; line-height: 30px;">Custom</block>
                                <block v-else>Line {{data.row}}, index: {{data.index}}.</block>
                            </greatview>
                            <scroll width="20" :length="l3_2" :client="c3_2" :scroll-offset.sync="so3_2"></scroll>
                        </layout>
                    </layout>
                    <label>Scroll offset: {{so_2}}, Length: {{l_2}}, Client: {{c_2}}.</label>
                    <greatview :data="lineCount_2" :scroll-offset.sync="so2_2" style="border: 1px solid rgba(0, 0, 0, .1);" flex="1" direction="h" @resize="c2_2 = arguments[0]" @change="l2_2 = arguments[0]" :style="{'line-height': style ? '1.5' : undefined}" :padding="style ? '10' : undefined" v-slot="data">
                        <layout align-v="center" align-h="center" direction="v" style="border-right: 1px solid rgba(0, 0, 0, .1); width: 80px;">
                            <label>Col {{data.row}}.</label>
                            <label>index: {{data.index}}.</label>
                        </layout>
                    </greatview>
                    <label>Scroll offset: {{so2_2}}, Length: {{l2_2}}, Client: {{c2_2}}.</label>
                    <layout gutter="10">
                        <button @tap="lineCount_2 += 10" padding="0 10" flex="1">Add 10 lines</button>
                        <button @tap="lineCount_2 += 50" padding="0 10" flex="1">Add 50 lines</button>
                    </layout>
                    <layout gutter="10">
                        <button @tap="lineCount_2 -= 10;if(lineCount_2 < 0) {lineCount_2 = 0;}" padding="0 10" flex="1">Remove 10 lines</button>
                        <button @tap="lineCount_2 -= 50;if(lineCount_2 < 0) {lineCount_2 = 0;}" padding="0 10" flex="1">Remove 50 lines</button>
                    </layout>
                </layout>
            </tab-panel>
            <tab-panel label="select" style="padding: 10px;">
                <layout flex="1" gutter="10" direction="v">
                    <block>greatselect:</block>
                    <greatselect :area="area">
                        <layout flex="1" align-v="center" gutter="5" style="padding: 7px; line-height: 1.2;">
                            <img width="32" height="32" :src="slist[select].src"></img>
                            <block>
                                <block>{{slist[select].name}}</block>
                                <block style="opacity:.7;">{{slist[select].path}}</block>
                            </block>
                        </layout>
                        <greatselect-pop :value="select" @input="if(slist[arguments[0]].type===0){select=arguments[0];}" :data="slist" v-slot="data">
                            <greatselect-pop-item v-if="data.row.type===0" :disabled="data.row.disabled" :value="data.index">
                                <layout flex="1" align-v="center" gutter="5" style="padding: 7px; line-height: 1.2;">
                                    <img width="32" height="32" :src="data.row.src"></img>
                                    <block>
                                        <block>{{data.row.name}}</block>
                                        <block style="opacity:.7;">{{data.row.path}}</block>
                                    </block>
                                </layout>
                            </greatselect-pop-item>
                            <greatselect-pop-split v-else-if="data.row.type===1"></greatselect-pop-split>
                            <greatselect-pop-item v-else :value="data.index">
                                <block style="padding: 7px;">Other</block>
                            </greatselect-pop-item>
                        </greatselect-pop>
                    </greatselect>
                    <layout gutter="10">
                        <button flex="1" @tap="slist.splice(-2, 0, {'type':0,'name':'Card'+slist.length,'path':'Bob >> folder >> Card','src': '/res/r-2.svg','disabled':undefined})">Add item</button>
                        <button flex="1" @tap="slist.splice(-3, 1)">Remove item</button>
                        <button flex="1" @tap="area = area === 'all' ? 'arrow' : 'all'">Area: {{area}}</button>
                    </layout>
                    <layout align-v="center">
                        <block style="flex-grow: 1; width: 0;">select:</block>
                        <select flex="2" v-model="select2" :data="slist2"></select>
                        <block style="flex-grow: 1; width: 0; padding-left: 10px;">{{select2}}</block>
                    </layout>
                    <layout align-v="center">
                        <block style="flex-grow: 1; width: 0;">editable:</block>
                        <select flex="2" v-model="select3" :data="slist2" :editable="true"></select>
                        <block style="flex-grow: 1; width: 0; padding-left: 10px;">{{select3}}</block>
                    </layout>
                    <layout gutter="10" align-v="center">
                        <button flex="1" @tap="slist2.push('item' + (slist2.length + 1))">Add</button>
                        <button flex="1" @tap="slist2.pop()">Remove</button>
                        <button flex="1" @tap="select2 = 'haha2'">Set haha2</button>
                    </layout>
                </layout>
            </tab-panel>
            <tab-panel v-for="item of tabs" :label="item.label" :name="item.name" style="padding: 10px;">
                <label>The tab's label is {{item.label}}, name is {{item.name}}.</label>
            </tab-panel>
        </tab>
        <layout gutter="10">
            <button @tap="style = !style" padding="0 10" flex="1">Change style</button>
            <button @tap="if(tabs[0]){tabs[0].label='changed';}" padding="0 10" flex="1">Change custom tab 1</button>
        </layout>
        <layout gutter="10">
            <button @tap="tabs.push({label:'tab'+(++tabsi),name:'tab'+tabsi})" padding="0 10" flex="1">Add</button>
            <button @tap="if(tabs.length>0){tabs.splice(tabs.length-1);}" padding="0 10" flex="1">Remove</button>
            <button @tap="if(tabPosition==='top'){tabPosition='right';}else if(tabPosition==='right'){tabPosition='bottom';}else if(tabPosition==='bottom'){tabPosition='left';}else{tabPosition='top';}" padding="0 10" flex="1">Position</button>
        </layout>
    </layout>
</form>